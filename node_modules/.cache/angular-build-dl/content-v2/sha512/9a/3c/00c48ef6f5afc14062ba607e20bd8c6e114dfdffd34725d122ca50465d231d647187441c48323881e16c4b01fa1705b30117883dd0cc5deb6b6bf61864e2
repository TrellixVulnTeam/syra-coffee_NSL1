(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"2jKy":function(e,t,i){"use strict";i.d(t,"a",function(){return M}),i.d(t,"b",function(){return L});var r=i("3Pt+"),o=i("wHSu"),n=i("mCIx"),s=i("fXoL"),a=i("7pgg"),c=i("gbi4"),d=i("dNgK"),l=i("1kSV"),f=i("ofXK"),b=i("6NWb");function m(e,t){if(1&e){const e=s.Wb();s.Vb(0,"div",10),s.Vb(1,"button",11),s.gc("click",function(){return s.Ac(e),s.kc().sidenav.close()}),s.Qb(2,"fa-icon",12),s.Ub(),s.Mc(3),s.Ub()}if(2&e){const e=s.kc();s.Cb(2),s.pc("icon",e.close),s.Cb(1),s.Oc(" ","main"==e.field&&"edit"==e.action&&"branch"!=e.field?"EDIT MAIN ACCOUNT":"user"==e.field&&"add"==e.action?"ADD USER ACCOUNT":"EDIT USER ACCOUNT"," ")}}function u(e,t){if(1&e){const e=s.Wb();s.Vb(0,"div",10),s.Vb(1,"button",11),s.gc("click",function(){return s.Ac(e),s.kc().sidenav.close()}),s.Qb(2,"fa-icon",12),s.Ub(),s.Mc(3),s.Ub()}if(2&e){const e=s.kc();s.Cb(2),s.pc("icon",e.close),s.Cb(1),s.Oc(" ","branch"==e.field&&"add"==e.action?"ADD BRANCH":"EDIT BRANCH"," ")}}function p(e,t){if(1&e){const e=s.Wb();s.Vb(0,"fa-icon",24),s.gc("click",function(){return s.Ac(e),s.kc(2).password_type="password"}),s.Ub()}if(2&e){const e=s.kc(2);s.pc("icon",e.faEye)}}function h(e,t){if(1&e){const e=s.Wb();s.Vb(0,"fa-icon",24),s.gc("click",function(){return s.Ac(e),s.kc(2).password_type="text"}),s.Ub()}if(2&e){const e=s.kc(2);s.pc("icon",e.faEyeSlash)}}function g(e,t){if(1&e&&(s.Vb(0,"form",13),s.Vb(1,"div",14),s.Vb(2,"div",15),s.Vb(3,"label",16),s.Mc(4,"Username"),s.Ub(),s.Qb(5,"input",17),s.Ub(),s.Ub(),s.Vb(6,"div",18),s.Vb(7,"label",19),s.Mc(8,"Password"),s.Ub(),s.Vb(9,"div",15),s.Qb(10,"input",20),s.Vb(11,"div",21),s.Vb(12,"span",22),s.Kc(13,p,1,1,"fa-icon",23),s.Kc(14,h,1,1,"fa-icon",23),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub()),2&e){const e=s.kc();s.pc("formGroup",e.adminform),s.Cb(10),s.qc("type",e.password_type),s.Cb(3),s.pc("ngIf","text"==e.password_type),s.Cb(1),s.pc("ngIf","password"==e.password_type)}}function v(e,t){if(1&e){const e=s.Wb();s.Vb(0,"fa-icon",24),s.gc("click",function(){return s.Ac(e),s.kc(2).password_type="password"}),s.Ub()}if(2&e){const e=s.kc(2);s.pc("icon",e.faEye)}}function _(e,t){if(1&e){const e=s.Wb();s.Vb(0,"fa-icon",24),s.gc("click",function(){return s.Ac(e),s.kc(2).password_type="text"}),s.Ub()}if(2&e){const e=s.kc(2);s.pc("icon",e.faEyeSlash)}}function w(e,t){if(1&e&&(s.Vb(0,"form",13),s.Vb(1,"div",14),s.Vb(2,"div",15),s.Vb(3,"label",25),s.Mc(4,"Username"),s.Ub(),s.Qb(5,"input",17),s.Ub(),s.Ub(),s.Vb(6,"div",18),s.Vb(7,"label",19),s.Mc(8,"Password"),s.Ub(),s.Vb(9,"div",15),s.Qb(10,"input",26),s.Vb(11,"div",21),s.Vb(12,"span",22),s.Kc(13,v,1,1,"fa-icon",23),s.Kc(14,_,1,1,"fa-icon",23),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub()),2&e){const e=s.kc();s.pc("formGroup",e.userform),s.Cb(10),s.qc("type",e.password_type),s.Cb(3),s.pc("ngIf","text"==e.password_type),s.Cb(1),s.pc("ngIf","password"==e.password_type)}}function C(e,t){if(1&e&&(s.Vb(0,"form",27),s.Vb(1,"div",18),s.Vb(2,"div",15),s.Vb(3,"div",28),s.Vb(4,"label"),s.Mc(5,"Branchname"),s.Ub(),s.Ub(),s.Qb(6,"input",29),s.Ub(),s.Ub(),s.Vb(7,"div",18),s.Vb(8,"div",15),s.Vb(9,"div",30),s.Vb(10,"label"),s.Mc(11,"Device ID"),s.Ub(),s.Ub(),s.Qb(12,"input",31),s.Ub(),s.Ub(),s.Ub()),2&e){const e=s.kc();s.pc("formGroup",e.branchform)}}function S(e,t){1&e&&s.Qb(0,"i",35)}function y(e,t){if(1&e){const e=s.Wb();s.Vb(0,"div",32),s.Vb(1,"button",33),s.gc("click",function(){return s.Ac(e),s.kc().edit_admin()}),s.Kc(2,S,1,0,"i",34),s.Mc(3,"SAVE"),s.Ub(),s.Ub()}if(2&e){const e=s.kc();s.Cb(2),s.pc("ngIf",1==e.isLoading)}}function V(e,t){1&e&&s.Qb(0,"i",35)}function U(e,t){if(1&e){const e=s.Wb();s.Vb(0,"div",32),s.Vb(1,"button",33),s.gc("click",function(){s.Ac(e);const t=s.kc();return"edit"==t.action?t.edit_branch():t.add_branch()}),s.Kc(2,V,1,0,"i",36),s.Mc(3,"SAVE"),s.Ub(),s.Ub()}if(2&e){const e=s.kc();s.Cb(2),s.pc("ngIf",1==e.isLoading)}}function k(e,t){1&e&&s.Qb(0,"i",35)}function x(e,t){if(1&e){const e=s.Wb();s.Vb(0,"div",32),s.Vb(1,"button",33),s.gc("click",function(){s.Ac(e);const t=s.kc();return"edit"==t.action?t.edit_user():t.add_user()}),s.Kc(2,k,1,0,"i",36),s.Mc(3,"SAVE"),s.Ub(),s.Ub()}if(2&e){const e=s.kc();s.Cb(2),s.pc("ngIf",1==e.isLoading)}}function I(e,t){1&e&&s.Qb(0,"i",35)}function B(e,t){1&e&&s.Qb(0,"i",35)}function A(e,t){if(1&e){const e=s.Wb();s.Vb(0,"div",37),s.Vb(1,"div"),s.Vb(2,"button",38),s.gc("click",function(){s.Ac(e);const t=s.kc();return"edit"==t.action?t.edit_user():t.add_user()}),s.Kc(3,I,1,0,"i",36),s.Vb(4,"span"),s.Mc(5,"SAVE"),s.Ub(),s.Ub(),s.Ub(),s.Vb(6,"div",39),s.Vb(7,"button",40),s.gc("click",function(){return s.Ac(e),s.kc().deleteAction()}),s.Kc(8,B,1,0,"i",36),s.Vb(9,"span"),s.Mc(10,"DELETE ITEM"),s.Ub(),s.Ub(),s.Ub(),s.Ub()}if(2&e){const e=s.kc();s.Cb(1),s.Fb("col-12  d-flex justify-content-center ","edit"==e.action?"py-3":"py-4",""),s.Cb(2),s.pc("ngIf",1==e.isLoading),s.Cb(5),s.pc("ngIf",1==e.isLoadingDelete)}}let M=(()=>{class e{constructor(e,t,i,n){this.apiService=e,this.common_service=t,this._snackBar=i,this.modalService=n,this.faTimesCircle=o.I,this.faEye=o.p,this.faEyeSlash=o.q,this.close=L,this.password_type="password",this.user_id="",this.isLoading=!1,this.branchform=new r.g({branch_name:new r.d("",[r.u.required,r.u.minLength(2)]),device_id:new r.d("",[r.u.required,r.u.minLength(5)])}),this.userform=new r.g({user_name:new r.d("",[r.u.required,r.u.minLength(1)]),password:new r.d("")}),this.adminform=new r.g({user_name:new r.d("",[r.u.required,r.u.minLength(2)]),password:new r.d("")}),this.isLoadingDelete=!1,this.common_service.resetForms.subscribe(()=>{this.branchform.setValue({branch_name:"",device_id:""}),this.userform.setValue({user_name:"",password:""}),this.adminform.setValue({user_name:"",password:""})})}deleteAction(){this.modalService.open(n.a).result.then(()=>{this.deleteBaristaAPI()},()=>{})}deleteBaristaAPI(){this.isLoadingDelete=!0,this.apiService.deleteBarista({id:this.user_id}).subscribe(e=>{this.common_service.showAlert(e.message),this.isLoadingDelete=!1,this.sidenav.close(),this.common_service.passing_res_user.emit()})}ngOnInit(){this.common_service.parent_open.subscribe(e=>{console.log(this.action),"edit"==this.action?(this.branchform.setValue({branch_name:e.branch_name,device_id:e.device_id}),this.branch_id=e._id):this.branchform.setValue({branch_name:"",device_id:""})}),this.common_service.admin_open.subscribe(e=>{this.adminform.setValue({user_name:this.admin.email_id,password:""})}),this.common_service.userEmitter.subscribe(e=>{var t;"edit"==this.action?(this.user_id=e._id,this.userform.setValue({user_name:null!==(t=null==e?void 0:e.barista_name)&&void 0!==t?t:"",password:""})):this.userform.setValue({user_name:"",password:""})})}edit_admin(){var e;if(""!=this.adminform.controls.user_name.value){var t=JSON.parse(null!==(e=localStorage.getItem("syra_admin"))&&void 0!==e?e:"");let i=""!=this.adminform.controls.password.value?{id:t.data._id,user_name:this.adminform.controls.user_name.value,password:this.adminform.controls.password.value}:{id:t.data._id,user_name:this.adminform.controls.user_name.value};this.isLoading=!0,this.apiService.update_admin_details(i).subscribe(e=>{this.common_service.showAlert(e.message),this.isLoading=!1,e.success&&(this.sidenav.toggle(),this.common_service.pass_data(e.data.admin_details))})}else this.common_service.showAlert("User Name is Mandatory")}add_branch(){var e;if(this.branchform.valid){this.isLoading=!0;var t=JSON.parse(null!==(e=localStorage.getItem("syra_admin"))&&void 0!==e?e:"");this.apiService.add_branch({created_by:t.data._id,branch_name:this.branchform.controls.branch_name.value,device_id:this.branchform.controls.device_id.value}).subscribe(e=>{this.common_service.showAlert(e.message),this.isLoading=!1,e.success&&(this.sidenav.toggle(),this.common_service.push_data(e.data))})}else this.common_service.showAlert(this.branchform.controls.branch_name.errors?"Branch Name is Mandatory":"Invalid Device Id")}edit_branch(){this.branchform.valid?(this.isLoading=!0,this.apiService.update_branch({id:this.branch_id,branch_name:this.branchform.controls.branch_name.value,device_id:this.branchform.controls.device_id.value}).subscribe(e=>{this.isLoading=!1,this.common_service.showAlert(e.message),e.success&&(this.sidenav.toggle(),this.common_service.push_data(null))})):this.common_service.showAlert(this.branchform.controls.branch_name.errors?"Branch Name is Mandatory":"Invalid Device Id")}add_user(){var e;if(this.userform.valid){this.isLoading=!0;var t=JSON.parse(null!==(e=localStorage.getItem("syra_admin"))&&void 0!==e?e:"");this.apiService.addBarista({created_by:t.data._id,barista_name:this.userform.controls.user_name.value,password:this.userform.controls.password.value}).subscribe(e=>{this.isLoading=!1,this.common_service.showAlert(e.message),e.success&&(this.sidenav.toggle(),this.common_service.push_user_data(e.data.barista))})}else this.common_service.showAlert("user name field is mandatory")}edit_user(){this.userform.valid?(this.isLoading=!0,this.apiService.update_barista_password({_id:this.user_id,user_name:this.userform.controls.user_name.value,password:this.userform.controls.password.value}).subscribe(e=>{this.isLoading=!1,this.common_service.showAlert(e.message),e.success&&(this.sidenav.toggle(),this.common_service.push_user_data(e.data.barista))})):this.common_service.showAlert("user name field is mandatory")}}return e.\u0275fac=function(t){return new(t||e)(s.Pb(a.a),s.Pb(c.a),s.Pb(d.a),s.Pb(l.c))},e.\u0275cmp=s.Jb({type:e,selectors:[["app-account-from"]],inputs:{sidenav:"sidenav",field:"field",action:"action",admin:"admin"},decls:13,vars:9,consts:[["rel","stylesheet","href",s.Qc("https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css")],[1,"w-100"],["class","title text-center sticky-top",4,"ngIf"],[1,"h75vh"],[3,"formGroup",4,"ngIf"],["class","mb-5",3,"formGroup",4,"ngIf"],[1,"h25vh"],["class","col-12 py-3 d-flex justify-content-center",4,"ngIf"],["class","col-12 py-3 d-flex justify-content-center ",4,"ngIf"],["class","row mx-0 justify-content-center align-items-center shadow-top","style","margin-left : -10px; margin-right: -10px;background-color: #F5F5F5;",4,"ngIf"],[1,"title","text-center","sticky-top"],[1,"bg-transparent","border-0","form-close-btn","position-absolute",3,"click"],[3,"icon"],[3,"formGroup"],[1,"form-group","mx-4","mt-5"],[1,"input-group"],[1,"col-12","text-left","mx-0","p-0"],["type","text","id","username","formControlName","user_name","placeholder","syracoffe","autocomplete","off",1,"form-control","w-100"],[1,"form-group","mx-4"],["for","passwordInput",1,"col-12","text-left","ml-2","mt-2","p-0"],["name","password","id","passwordInput","placeholder","Enter your password","required","","formControlName","password",1,"form-control","border-right-0",3,"type"],[1,"input-group-append","mt-2.5px"],["id","visibility",1,"input-group-text","pointer"],["class","text-secondary",3,"icon","click",4,"ngIf"],[1,"text-secondary",3,"icon","click"],["for","name",1,"col-12","text-left","mx-0","p-0"],["name","password","formControlName","password","id","passwordInput","placeholder","Enter your password",1,"form-control","border-right-0",3,"type"],[1,"mb-5",3,"formGroup"],[1,"text-left","col-12","mx-0","mt-4","p-0"],["type","text","id","branchname","placeholder","Gracia","formControlName","branch_name","autocomplete","off",1,"form-control","w-100"],[1,"text-left","col-12","mx-0","mt-2","p-0"],["type","text","id","deviceid","placeholder","C1JMP2JFD","autocomplete","off","formControlName","device_id",1,"form-control","w-100"],[1,"col-12","py-3","d-flex","justify-content-center"],["type","button",1,"btn","text-white","btn-sm",3,"click"],["class","fa fa-spinner fa-spin mr-3 ",4,"ngIf"],[1,"fa","fa-spinner","fa-spin","mr-3"],["class","fa fa-spinner fa-spin mr-3",4,"ngIf"],[1,"row","mx-0","justify-content-center","align-items-center","shadow-top",2,"margin-left","-10px","margin-right","-10px","background-color","#F5F5F5"],["type","submit",1,"btn","text-white","btn-sm",3,"click"],[1,"col-12","pb-3","d-flex","justify-content-center","pb-4"],[1,"btn","text-white",2,"background-color","red",3,"click"]],template:function(e,t){1&e&&(s.Qb(0,"link",0),s.Vb(1,"div",1),s.Kc(2,m,4,2,"div",2),s.Kc(3,u,4,2,"div",2),s.Vb(4,"div",3),s.Kc(5,g,15,4,"form",4),s.Kc(6,w,15,4,"form",4),s.Kc(7,C,13,1,"form",5),s.Ub(),s.Vb(8,"div",6),s.Kc(9,y,4,1,"div",7),s.Kc(10,U,4,1,"div",8),s.Kc(11,x,4,1,"div",7),s.Kc(12,A,11,5,"div",9),s.Ub(),s.Ub()),2&e&&(s.Cb(2),s.pc("ngIf","branch"!=t.field),s.Cb(1),s.pc("ngIf","branch"==t.field),s.Cb(2),s.pc("ngIf","main"==t.field),s.Cb(1),s.pc("ngIf","user"==t.field),s.Cb(1),s.pc("ngIf","branch"==t.field),s.Cb(2),s.pc("ngIf","main"==t.field),s.Cb(1),s.pc("ngIf","branch"==t.field),s.Cb(1),s.pc("ngIf","user"==t.field&&"edit"!=t.action),s.Cb(1),s.pc("ngIf","user"==t.field&&"edit"==t.action))},directives:[f.l,b.a,r.w,r.n,r.h,r.c,r.m,r.f,r.t],styles:['@font-face{font-family:HelveticaNeue-Bold;font-style:normal;font-weight:400;src:local("HelveticaNeue-Bold"),url("Helvetica Neu Bold.61acdee6f288cddccf23.ttf") format("ttf")}@font-face{font-family:CerebriSans-Bold;font-style:normal;font-weight:400;src:local("CerebriSans-Bold"),url(CerebriSans-Bold.b28d46a00415bec63bba.ttf) format("ttf");src:local("CerebriSans-Bold"),url(CerebriSans-Bold.f48e05c76db5e6bd676c.eot) format("eot");src:local("CerebriSans-Bold"),url(CerebriSans-Bold.1b8ded389d0dc424b19b.svg) format("svg");src:local("CerebriSans-Bold"),url(CerebriSans-Bold.1b4400b13ebd711dd3e8.woff) format("woff");src:local("CerebriSans-Bold"),url(CerebriSans-Bold.1b89f96de9e78fd26a7f.woff2) format("woff2")}@font-face{font-family:\\ CerebriSans-semibold;font-style:normal;font-weight:400;src:local("CerebriSans-Bold"),url(CerebriSans-SemiBold.dcda3674ac76f4e31e87.ttf) format("ttf");src:local("CerebriSans-Bold"),url(CerebriSans-SemiBold.8c2b25fda64ba8de398a.eot) format("eot");src:local("CerebriSans-Bold"),url(CerebriSans-SemiBold.d4680810013431cbe6c7.svg) format("svg");src:local("CerebriSans-Bold"),url(CerebriSans-SemiBold.700f305197d6f163d348.woff) format("woff");src:local("CerebriSans-Bold"),url(CerebriSans-SemiBold.29097270d5f0e9003fd4.woff2) format("woff2")}@font-face{font-family:CerebriSans-Light;font-style:normal;font-weight:400;src:local("CerebriSans-Bold"),url(CerebriSans-Light.ddb81c4966caddeb5524.ttf) format("ttf");src:local("CerebriSans-Bold"),url(CerebriSans-Light.1e4f0f37d8ed20e51e27.eot) format("eot");src:local("CerebriSans-Bold"),url(CerebriSans-Light.efa3b6fb5acdd7fa23ab.svg) format("svg");src:local("CerebriSans-Bold"),url(CerebriSans-Light.650c547e86d77193b2d0.woff) format("woff");src:local("CerebriSans-Bold"),url(CerebriSans-Light.93b3eb2ec96f14eca31e.woff2) format("woff2")}@font-face{font-family:CerebriSans-Regular;font-style:normal;font-weight:400;src:local("CerebriSans-Regular"),url(CerebriSans-Regular.da1eaafe42c93475b338.ttf) format("ttf");src:local("CerebriSans-Regular"),url(CerebriSans-Regular.ccb7af1c430bd224cb88.eot) format("eot");src:local("CerebriSans-Regular"),url(CerebriSans-Regular.8a18b1b14a235efe141d.svg) format("svg");src:local("CerebriSans-Regular"),url(CerebriSans-Regular.81bf15fd01ef8a22e704.woff) format("woff");src:local("CerebriSans-Regular"),url(CerebriSans-Regular.a9f198f5da5b6fe108ed.woff2) format("woff2")}input[_ngcontent-%COMP%]{border-radius:0!important}input[_ngcontent-%COMP%], input[_ngcontent-%COMP%]:focus{border:1px solid #4a4a4a;background-color:#f7f7f7}input[_ngcontent-%COMP%]:focus{outline:none;box-shadow:none}.btn[_ngcontent-%COMP%]{background-color:#679187;border:none;border-radius:0;box-shadow:0 3px 6px 0 rgba(0,0,0,.16);min-width:240px;min-height:40px}.btn[_ngcontent-%COMP%]:focus{border:none;box-shadow:none}input[_ngcontent-%COMP%], input[_ngcontent-%COMP%]::-webkit-input-placeholder{font-size:16px;font-weight:400;font-family:cerebrisans-Regular}.input-group-text[_ngcontent-%COMP%]{border-color:#000;border-radius:0;margin-top:0;border-left:0;background-color:#f7f7f7}.text-secondary[_ngcontent-%COMP%]{color:#4a4a4a}.input-group[_ngcontent-%COMP%]{border-left:0;margin-top:.5px;border-radius:0!important;border-color:#000}.input-group[_ngcontent-%COMP%]:focus{outline:none}  .bg_color .mat-drawer-inner-container{background-color:#f0f0f0!important}']}),e})();const L={prefix:"fa",iconName:"line",icon:[512,512,[],"","M437.126,74.939c-99.826-99.826-262.307-99.826-362.133,0C26.637,123.314,0,187.617,0,256.005\n\t\t\ts26.637,132.691,74.993,181.047c49.923,49.923,115.495,74.874,181.066,74.874s131.144-24.951,181.066-74.874\n\t\t\tC536.951,337.226,536.951,174.784,437.126,74.939z M409.08,409.006c-84.375,84.375-221.667,84.375-306.042,0\n\t\t\tc-40.858-40.858-63.37-95.204-63.37-153.001s22.512-112.143,63.37-153.021c84.375-84.375,221.667-84.355,306.042,0\n\t\t\tC493.435,187.359,493.435,324.651,409.08,409.006z M341.525,310.827l-56.151-56.071l56.151-56.071c7.735-7.735,7.735-20.29,0.02-28.046\n\t\t\tc-7.755-7.775-20.31-7.755-28.065-0.02l-56.19,56.111l-56.19-56.111c-7.755-7.735-20.31-7.755-28.065,0.02\n\t\t\tc-7.735,7.755-7.735,20.31,0.02,28.046l56.151,56.071l-56.151,56.071c-7.755,7.735-7.755,20.29-0.02,28.046\n\t\t\tc3.868,3.887,8.965,5.811,14.043,5.811s10.155-1.944,14.023-5.792l56.19-56.111l56.19,56.111\n\t\t\tc3.868,3.868,8.945,5.792,14.023,5.792c5.078,0,10.175-1.944,14.043-5.811C349.28,331.117,349.28,318.562,341.525,310.827z"]}}}]);